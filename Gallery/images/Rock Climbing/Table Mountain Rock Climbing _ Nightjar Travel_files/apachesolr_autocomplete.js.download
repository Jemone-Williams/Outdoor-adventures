Drupal.behaviors.apachesolr_autocomplete={attach:function(context){jQuery(".apachesolr-autocomplete.unprocessed",context).add(".apachesolr-autocomplete.unprocessed input",context).apachesolr_autocomplete(Drupal.settings.apachesolr_autocomplete.path,{inputClass:"",loadingClass:"throbbing",selectFirst:false,matchContains:false,matchSubset:false,max:50,scroll:true,scrollHeight:360,dataType:"json",parse:function(data){return jQuery.map(data,function(item){return{data:item,value:item.display,result:item.key}});},formatItem:function(item){return item.display;}}).result(function(item,element){jQuery(this).get(0).form.submit();}).addClass('form-autocomplete');}};